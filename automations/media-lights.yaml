- id: '1575815204559'
  alias: Light:Media Room Lights:Centre-Off
  description: ''
  trigger:
    - platform: state
      entity_id: switch.media_centre
      from: 'on'
      to: 'off'
  condition:
  - condition: state
    entity_id: input_boolean.active
    state: 'on'
  - condition: state
    entity_id: sun.sun
    state: 'below_horizon'
  action:
  - data:
      entity_id: light.light_media_3
    service: light.turn_on
- id: '2020032913141'
  alias: Light:Media Room Lights:Toggle
  description: ''
  trigger:
  - platform: event
    event_type: esphome.rf_code_received
    event_data:
      code: '1944754'
  condition:
  - condition: state
    entity_id: input_boolean.active
    state: 'on'
  action:
  - choose:
    - conditions:
      - condition: state
        entity_id: input_boolean.light_effect_running
        state: 'on'
      sequence:
      - service: input_boolean.turn_off
        entity_id: input_boolean.light_effect_running
    - conditions:
      - condition: state
        entity_id: light.media_room_lights
        state: 'on'
      sequence:
      - service: light.turn_off
        entity_id: light.light_media_1,light.light_media_3
    default:
      - service: light.turn_on
        entity_id: light.light_media_3
# - id: '1575815268208'
#   alias: Light:Media Reading Light:Toggle
#   description: ''
#   trigger:
#   - entity_id: sensor.rfb_button
#     platform: state
#     to: '11532948'
#   condition: []
#   action:
#   - data:
#       entity_id: light.light_media_2
#     service: light.toggle
- id: '2020032922141'
  alias: Light:Media Light Stand:Toggle
  description: ''
  trigger:
  - platform: event
    event_type: esphome.rf_code_received
    event_data:
      code: '11532968'
  condition:
  - condition: state
    entity_id: input_boolean.active
    state: 'on'
  action:
  - data:
      entity_id: light.light_media_1
    service: light.toggle
- id: '1575815695650'
  alias: Light:Media:On:Pause/Stop
  description: ''
  trigger:
  - entity_id: media_player.glod
    for: 00:00:30
    from: playing
    platform: state
    to: idle
  - entity_id: media_player.glod
    for: 00:00:30
    from: playing
    platform: state
    to: 'off'
  - entity_id: media_player.glod
    from: playing
    platform: state
    to: paused
  - entity_id: media_player.ruby
    for: 00:00:30
    from: playing
    platform: state
    to: idle
  - entity_id: media_player.ruby
    for: 00:00:30
    from: playing
    platform: state
    to: 'off'
  - entity_id: media_player.ruby
    from: playing
    platform: state
    to: paused
  condition:
  - condition: state
    entity_id: input_boolean.active
    state: 'on'
  - condition: state
    entity_id: sun.sun
    state: 'below_horizon'
  action:
  - data:
      entity_id: light.light_media_1
    service: light.turn_on
- id: '1575815947680'
  alias: Light:Media:Off:Play
  description: ''
  trigger:
  - entity_id: media_player.glod
    platform: state
    to: playing
  - entity_id: media_player.ruby
    platform: state
    to: playing
  condition:
  - condition: state
    entity_id: input_boolean.active
    state: 'on'
  - condition: not
    conditions:
    - condition: state
      entity_id: media_player.glod
      attribute: app_name
      state: HASfit
  action:
  - data:
      entity_id: light.media_room_lights
    service: light.turn_off
# - id: '1580921810634'
#   alias: Switch:Media Centre:Toggle
#   description: ''
#   trigger:
#   - platform: state
#     entity_id:

#     to: "on"
#   condition:
#   - condition: state
#     entity_id: input_boolean.active
#     state: 'on'
#   action:
#   - entity_id: switch.media_centre
#     service: switch.toggle
- id: '2020032901131'
  alias: Switch:Media Centre:IR
  description: ''
  trigger:
  - platform: state
    entity_id:
      - binary_sensor.panasonic_tv_power
      - binary_sensor.panasonic_tv_aux_power
      - binary_sensor.yamaha_aux_power
    to: "on"
    id: Chromecast
  - platform: state
    entity_id:
      - switch.ruby
    to: "on"
    id: Ruby
  condition:
  - condition: state
    entity_id: input_boolean.active
    state: 'on'
  action:
  - condition: state
    entity_id: switch.media_centre
    state: "off"
  - entity_id: switch.media_centre
    service: switch.turn_on
