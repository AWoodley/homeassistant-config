- id: '1573474259634'
  alias: Light:Jonathan's Bedroom:Dim
  description: 'Adjust brightness of light based on time of day'
  trigger:
  - entity_id: sensor.rfb_button
    platform: state
    to: '1058804'
  condition:
  - condition: state
    entity_id: binary_sensor.active
    state: 'on'
  action:
  - data_template:
      entity_id: >
        {% if is_state('input_select.jonathans_bedroom_scene', 'scene.scene_jonathans_bedroom_dim') %}
        scene.scene_jonathans_bedroom_off
        {% else %}
        scene.scene_jonathans_bedroom_dim
        {% endif %}
    service: scene.turn_on
- id: '1573474201726'
  alias: Light:Jonathan's Bedroom:Bright
  description: 'Full brightness'
  trigger:
  - entity_id: sensor.rfb_button
    platform: state
    to: '1058802'
  condition:
  - condition: state
    entity_id: binary_sensor.active
    state: 'on'
  action:
  - data_template:
      entity_id: >
        {% if is_state('input_select.jonathans_bedroom_scene', 'scene.scene_jonathans_bedroom_bright') %}
        scene.scene_jonathans_bedroom_off
        {% else %}
        scene.scene_jonathans_bedroom_bright
        {% endif %}
    service: scene.turn_on
- id: '1573474201727'
  alias: Light:Jonathan's Bedroom:Colours
  description: 'Cycle through disco light colours'
  trigger:
  - entity_id: sensor.rfb_button
    platform: state
    to: '1058801'
  condition:
  - condition: state
    entity_id: binary_sensor.active
    state: 'on'
  action:
  - data:
      entity_id: light.light_jonathans_bedroom
      brightness: 255
      period: 1
      change: 35
      power_on: true
    service:
      lifx.effect_colorloop
- id: '1592566987204'
  alias: Light:Jonathan's Bedroom:Off
  description: ''
  trigger:
  - device_id: 7b728c50558d4934a19c3f6078dba396
    domain: light
    entity_id: light.light_jonathans_bedroom
    platform: device
    type: turned_off
  condition:
  - condition: state
    entity_id: binary_sensor.active
    state: 'on'
  action:
  - scene: scene.scene_jonathans_bedroom_off
- id: '1608395976316'
  alias: 'Switch:Jonathans-Fan:Temperature'
  description: ''
  trigger:
  - platform: numeric_state
    entity_id: sensor.temp_jonathans_bedroom_ds18b20_temperature
    below: 24
    for: 00:05:00
  - platform: time
    at: 07:30:00
  action:
  - service: switch.turn_off
    data: {}
    entity_id: switch.jonathans_fan
  mode: single
- id: '1589216051030'
  alias: Switch:Jonathan's Heater:Off
  description: ''
  trigger:
  - at: 07:30:00
    platform: time
  condition:
  - condition: state
    entity_id: binary_sensor.active
    state: 'on'
  action:
  - entity_id: switch.jonathans_heater
    service: switch.turn_off
- id: '1589216101517'
  alias: Switch:Jonathan's Heater:On
  description: ''
  trigger:
  - platform: numeric_state
    entity_id: sensor.temp_jonathans_bedroom_ds18b20_temperature
    below: 24
    for: 00:05:00
  condition:
  - condition: state
    entity_id: binary_sensor.active
    state: 'on'
  - condition: time
    alias: "Time 20:00 - 07:00"
    after: "20:00:00"
    before: "07:00:00"
  action:
  - entity_id: switch.jonathans_heater
    service: switch.turn_on