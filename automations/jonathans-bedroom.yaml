- id: '1573474259634'
  alias: Light:Jonathan's Bedroom:Reading
  description: 'Toggle reading light in Jonathans bedroom'
  trigger:
  - platform: event
    event_type: esphome.rf_code_received
    event_data:
      code: '1058804'
  condition:
  - condition: state
    entity_id: binary_sensor.active
    state: 'on'
  action:
  - service: switch.toggle
    target:
      entity_id: switch.jonathans_reading_light
# - id: '1573474201726'
#   alias: Light:Jonathan's Bedroom:Bright
#   description: 'Full brightness'
#   trigger:
#   - platform: event
#     event_type: esphome.rf_code_received
#     event_data:
#       code: '1058802'
#   condition:
#   - condition: state
#     entity_id: binary_sensor.active
#     state: 'on'
#   action:
#     - choose:
#         - conditions:
#             - condition: time
#               after: '21:00'
#               before: '07:00'
#           sequence:
#             - choose:
#                 - conditions:
#                     - condition: state
#                       entity_id: light.lifx_jonathans_bedroom
#                       state: 'on'
#                       for:
#                         hours: 0
#                         minutes: 0
#                         seconds: 5
#                         milliseconds: 0
#                   sequence:
#                     - service: light.turn_off
#                       target:
#                         entity_id: light.lifx_jonathans_bedroom
#               default:
#                 - service: light.turn_on
#                   data:
#                     color_temp: 370
#                     brightness: 255
#                   target:
#                     entity_id: light.lifx_jonathans_bedroom
#       default:
#         - service: light.toggle
#           data:
#             color_temp: 370
#             brightness: 255
#           target:
#             entity_id: light.lifx_jonathans_bedroom
- id: '2021112511151'
  alias: Light:Davids-Bedroom-Light:Step
  description: ''
  use_blueprint:
    path: light-step-brightness.yaml
    input:
      button_id: '1058802'
      light_id: light.lifx_jonathans_bedroom
- id: '1573474201727'
  alias: Light:Jonathan's Bedroom:Colours
  description: 'Cycle through disco light colours'
  trigger:
  - platform: event
    event_type: esphome.rf_code_received
    event_data:
      code: '1058801'
  condition:
  - condition: state
    entity_id: binary_sensor.active
    state: 'on'
  action:
  - data:
      entity_id: light.lifx_jonathans_bedroom
      brightness: 255
      period: 1
      change: 35
      power_on: true
    service:
      lifx.effect_colorloop
- id: '1589216101517'
  alias: Switch:Jonathan's Heater:On
  description: ''
  trigger:
  - at: '20:00:00'
    platform: time
  condition:
  - condition: state
    entity_id: binary_sensor.active
    state: 'on'
  - condition: state
    entity_id: person.jonathan
    state: 'home'
  - condition: numeric_state
    entity_id: sensor.temp_jonathans_bedroom_ds18b20_temperature
    below: 24
  action:
  - service: climate.set_temperature
    data:
      hvac_mode: heat
      temperature: 19
    target:
      entity_id: climate.jonathans_thermostat
  - service: climate.turn_on
    target:
      entity_id: climate.jonathans_thermostat
- id: '20211202220501'
  alias: Rollershutter:Jonathans Bedroom:Open:Time
  description: Open the Jonathans Bedroom Roller shutter at 07:30
  trigger:
  - platform: time
    at: 07:30:00
  condition:
  - condition: state
    entity_id: binary_sensor.active
    state: 'on'
  - condition: state
    entity_id: group.family
    state: home
  - condition: state
    entity_id: climate.jonathans_thermostat
    state: 'off'
  - condition: time
    weekday:
    - mon
    - tue
    - wed
    - thu
    - fri
    - sat
  - condition: numeric_state
    entity_id: sensor.jonathans_bedroom_temperature
    above: '20'
  action:
  - service: cover.open_cover
    data: {}
    entity_id: cover.jonathans_bedroom_rollershutter
  mode: single